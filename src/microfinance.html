<!DOCTYPE html>
<html>
<style>
  html, body{
    height: 100%;
  }
</style>
<head>
  <title>Agricultural Blockchain App</title>
	 <link href="./app.css" rel='stylesheet' type='text/css'>
	 
	<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js"></script>
	<script src="https://code.highcharts.com/highcharts.src.js"></script>
	<script src="./app.js"></script>
	<script>
		$(document).ready(function(){
						$("#pfid").val(window.location.href.split("=")[1]);
						setTimeout(function(){
      
			refresh();
							
		}, 3000);
		});
		</script>
</head>
<body>
<!--
  <h1>Agricultural Supply Chain Dapp</h1>
  <h4>Public Id : <span class="white"><span id="SenderBalance"></span> </h4>
  -->
<div className="customer" style="position: absolute; height: 100%; width: 100%; background-color: aliceblue; opacity: 0.7;">
  <h1>Agricultural Supply Chain Dapp</h1>
  <h4>Public Id : <span class="white"><span id="SenderBalance"></span> </h4>
  <div className="farmerDetails" style='height: 80%'>
	<div className="CustomerCharts" style='width: 100%; height: 100%; display: flex; flex-direction: row; justify-content: space-evenly; align-items: stretch'>
		<div style="order: 1; flexGrow: 1; width: 30%; height: 100%; alignSelf: center">
			<div id = 'final' style="width: 100%; height: 60%; alignSelf: center; top: 20%; position: relative"></div>
		</div>
		<div style="order: 2; flexGrow: 1; width: 30%; height: 100%; alignSelf: center">
			<div class="form" id="finance-form" style='width: 90%;'>
				<h2 class="form-title">Micro-Finance</h2>
				
		 
				<input type="text" class="input-std" disabled id="pfid" placeholder="Farmer Public Id" >
				<!-- <input type="text" class="input-std" id="lotnum" placeholder="Lot Number"> -->
				<input type="text" class="input-std" id="amount" placeholder="Fund Amount">
				<table>
				<tr><td><b><label class = "black"  >Balance</label></td><td>:</td></b><td><span class="black"><span class="black" span id="balance">-</span></span></td></tr>
				
				</table>
				<button type="button" class="btn-submit" id="fund_farmer" onclick="fund()">Fund Farmer</button>
				<span id="status"></span>
				<div className="recoTitle" style='height:15%; position: relative; font-size: x-large; font-weight: bold; margin-top: 25px; text-align: left'>Recommendations based on History</div>
				<div className="recoItems" style='position: relative; font-size: large; text-align: left; margin-top: 10px'>Farmer Crop: Urad Dal</div>
				<div className="recoItems" style='position: relative; font-size: large; text-align: left; margin-top: 10px'>Acreage: 7.6 Acres</div>
				<div className="recoItems" style='position: relative; font-size: large; text-align: left; margin-top: 10px'>Expected Yield: <span style={{fontWeight: 'bold'}}>500,000 INR</span></div>
			</div>
		</div>
		<div style="order: 3; flexGrow: 1; width: 30%; height: 100%; alignSelf: center">
			<div id = 'rain' style="width: 100%; height: 40%; alignSelf: center; top: 7%; position: relative"></div>
			<div id = 'soil' style="width: 100%; height: 40%; alignSelf: center; top: 6%; position: relative"></div>
		</div>
	</div>
  </div>
</div>

	<script>
		chartOptions = {
           finalOne: {
               chart: {
                   type: 'bar',
                   backgroundColor: {
                       linearGradient: [0, 0, 500, 500],
                       stops: [
                           [0, 'rgb(255, 255, 255)'],
                           [1, 'rgb(240, 240, 255)']
                       ]
                   },
                   borderWidth: 1,
                   plotBackgroundColor: 'rgba(255, 255, 255, .9)',
                   plotShadow: true,
                   plotBorderWidth: 1
               },
               title: {
                   text: 'Yeild Estimation'
               },
               xAxis: {
                   categories: ['Rice', 'Groundnut', 'Urad Dal']
               },
               yAxis: {
                   title: {
                       text: 'Amount in Thousands Per Acre'
                   }
               },
               series: [{
                   name: 'Spent Amount',
                   data: [50, 30, 40]
               }, {
                   name: 'Earned Amount',
                   data: [70, 60, 70]
               }]
           },
           Rainfall: {
               chart: {
                   type: 'line',
                   backgroundColor: {
                       linearGradient: [0, 0, 500, 500],
                       stops: [
                           [0, 'rgb(255, 255, 255)'],
                           [1, 'rgb(240, 240, 255)']
                       ]
                   },
                   borderWidth: 1,
                   plotBackgroundColor: 'rgba(255, 255, 255, .9)',
                   plotShadow: true,
                   plotBorderWidth: 1
               },
               title: {
                   text: 'Rainfall Estimation'
               },
               xAxis: {
                   categories: ['2011', '2012', '2013', '2014', '2015', '2016', '2017', '2018']
               },
               yAxis: {
                   title: {
                       text: 'Rain in cm'
                   }
               },
               series: [{
                   name: 'Rainfall',
                   data: [210, 160, 230, 220, 150, 175, 200, 250]
               }]
           },
           SoilQuality: {
               chart: {
                   type: 'line',
                   backgroundColor: {
                       linearGradient: [0, 0, 500, 500],
                       stops: [
                           [0, 'rgb(255, 255, 255)'],
                           [1, 'rgb(240, 240, 255)']
                       ]
                   },
                   borderWidth: 1,
                   plotBackgroundColor: 'rgba(255, 255, 255, .9)',
                   plotShadow: true,
                   plotBorderWidth: 1
               },
               title: {
                   text: 'Soil Quality Estimation'
               },
               xAxis: {
                   categories: ['2016 Kharif', '2016 Rabi', '2017 Kharif Rabi', '2017', '2018 Kharif', '2018 Rabi']
               },
               yAxis: {
                   title: {
                       text: 'Soil Quality'
                   }
               },
               series: [{
                   name: 'Soil Quality Index',
                   data: [0.5, 0.6, 0.4, 0.65, 0.5, 0.7]
               }]
           },
       };
        Highcharts.theme = {
            colors: ['#058DC7', '#50B432', '#ED561B', '#DDDF00', '#24CBE5', '#64E572',
                '#FF9655', '#FFF263', '#6AF9C4'],
            chart: {
                backgroundColor: {
                    linearGradient: [0, 0, 500, 500],
                    stops: [
                        [0, 'rgb(255, 255, 255)'],
                        [1, 'rgb(240, 240, 255)']
                    ]
                },
            },
            title: {
                style: {
                    color: '#000',
                    font: 'bold 16px "Trebuchet MS", Verdana, sans-serif'
                }
            },
            subtitle: {
                style: {
                    color: '#666666',
                    font: 'bold 12px "Trebuchet MS", Verdana, sans-serif'
                }
            },

            legend: {
                itemStyle: {
                    font: '9pt Trebuchet MS, Verdana, sans-serif',
                    color: 'black'
                },
                itemHoverStyle:{
                    color: 'gray'
                }
            }
        };
// Apply the theme
        Highcharts.setOptions(Highcharts.theme);

        Highcharts.chart('final', chartOptions['finalOne']);
        Highcharts.chart('rain', chartOptions['Rainfall']);
        Highcharts.chart('soil', chartOptions['SoilQuality']);
	</script>

  

  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
	<!-- Include all compiled plugins (below), or include individual files as needed -->
	<script src="js/bootstrap.min.js"></script>
	<script src="js/web3.min.js"></script>
	<script src="js/truffle-contract.js"></script>
	<link href="./stylesheets/app.css" rel='stylesheet' type='text/css'>
	<script src="js/app.js"></script>
</body>
</html>